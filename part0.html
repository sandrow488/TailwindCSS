<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Parte Dark/Light — Explicación de cambio de color</title>
    <script>
      // Aplica el tema antes de cargar estilos (evita parpadeo)
      (function () {
        try {
          var saved = localStorage.getItem('theme'); // 'light' | 'dark' | null
          var prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
          var isDark = saved === 'dark' || (!saved && prefersDark);
          document.documentElement.classList.toggle('dark', !!isDark);
        } catch (e) {}
      })();
    </script>
    <link href="/src/style.css" rel="stylesheet" />
  </head>
  <body class="bg-gray-50 text-gray-800 dark:bg-gray-950 dark:text-gray-100 transition-colors">
    <header class="max-w-5xl mx-auto p-4 flex items-center justify-between">
      <a class="text-xl font-bold text-brand" href="/">Tailwind v4.1 — Tutorial</a>
      <div class="md:hidden">
        <button id="menu-btn" class="text-gray-600 hover:text-gray-800 focus:outline-none">
          <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
          </svg>
        </button>
      </div>
      <nav id="menu" class="hidden md:flex text-sm flex-col md:flex-row items-center">
        <a class="px-2 py-1 md:py-0 hover:underline" href="/index.html">Index</a>
        <a class="px-2 py-1 md:py-0 hover:underline" href="/parte1.html">Parte 1</a>
        <a class="px-2 py-1 md:py-0 hover:underline" href="/parte2.html">Parte 2</a>
        <a class="px-2 py-1 md:py-0 hover:underline" href="/parte3.html">Parte 3</a>
        <a class="px-2 py-1 md:py-0 hover:underline" href="/parte4.html">Parte 4</a>
        <a class="px-2 py-1 md:py-0 hover:underline" href="/parte5.html">Parte 5</a>
        <a class="px-2 py-1 md:py-0 hover:underline" href="/parte6.html">Parte 6</a>
        <a class="px-2 py-1 md:py-0 hover:underline" href="/parte7.html">Parte 7</a>
        <a class="px-2 py-1 md:py-0 hover:underline" href="/parte8.html">Parte 8</a>
        <a class="px-2 py-1 md:py-0 hover:underline" href="/parte9.html">Parte 9</a>
      </nav>
    </header>

    <main class="max-w-5xl mx-auto p-4 space-y-8">
      <section>
        <h1 class="text-3xl font-bold">Dark/Light — Cómo cambia el color con Tailwind</h1>
        <p class="mt-2 text-gray-600 dark:text-gray-300">
          La variante <code>dark:</code> aplica estilos solo cuando el usuario está en modo oscuro (por sistema) o cuando tu
          app lo configure así. En v4.1, por defecto, <strong>usa media queries</strong> (no clase <code>.dark</code>). 
          Cambia el tema del sistema o usa las DevTools para emular <em>prefers-color-scheme</em>.
        </p>
        <div class="mt-4">
          <button id="toggle-theme"
            class="btn btn-brand focus:outline-2 focus:outline-offset-2 focus:outline-brand active:translate-y-px">
            Cambiar tema (guardar en localStorage)
          </button>
        </div>
      </section>

      <section class="card">
        <h2 class="card-title">Paso 1 — Fondo y texto</h2>
        <div class="rounded-lg p-6 bg-white text-gray-800 dark:bg-gray-900 dark:text-gray-100 transition-colors">
          <h3 class="text-xl font-semibold">Bloque con modo claro/oscuro</h3>
          <p class="mt-2 text-gray-600 dark:text-gray-300">Prueba cambiando el tema del sistema.</p>
        </div>
        <pre class="mt-3 p-4 bg-gray-100 dark:bg-gray-900 rounded text-xs overflow-x-auto"><code>&lt;div class=&quot;bg-white text-gray-800 dark:bg-gray-900 dark:text-gray-100 transition-colors&quot;&gt;...&lt;/div&gt;</code></pre>
      </section>

      <section class="card">
        <h2 class="card-title">Paso 2 — Tarjeta con anillos/sombras</h2>
        <div class="grid sm:grid-cols-2 gap-4">
          <div class="rounded-xl bg-white p-6 shadow-lg ring-1 ring-black/5 transition dark:bg-slate-800 dark:shadow-none dark:ring-white/10">
            <h4 class="font-semibold">Claro</h4>
            <p class="mt-1 text-sm text-gray-600 dark:text-gray-300">Sombra y ring sutiles.</p>
          </div>
          <div class="rounded-xl bg-white p-6 shadow-lg ring-1 ring-black/5 transition dark:bg-slate-800 dark:shadow-none dark:ring-white/10">
            <h4 class="font-semibold">Oscuro</h4>
            <p class="mt-1 text-sm text-gray-600 dark:text-gray-300">Al activar modo oscuro, cambia fondo, ring y sombras.</p>
          </div>
        </div>
        <pre class="mt-3 p-4 bg-gray-100 dark:bg-gray-900 rounded text-xs overflow-x-auto"><code>class=&quot;rounded-xl bg-white p-6 shadow-lg ring-1 ring-black/5 transition
dark:bg-slate-800 dark:shadow-none dark:ring-white/10&quot;</code></pre>
      </section>

      <section class="card">
        <h2 class="card-title">Paso 3 — Botón accesible</h2>
        <button class="btn btn-brand focus:outline-2 focus:outline-offset-2 focus:outline-brand active:translate-y-px transition">
          Botón de marca
        </button>
        <button class="ml-3 btn focus:outline-2 focus:outline-offset-2 focus:outline-brand bg-gray-200 text-gray-900 dark:bg-gray-700 dark:text-white">
          Botón neutro
        </button>
        <pre class="mt-3 p-4 bg-gray-100 dark:bg-gray-900 rounded text-xs overflow-x-auto"><code>&lt;button class=&quot;btn bg-gray-200 text-gray-900
dark:bg-gray-700 dark:text-white ...&quot;&gt;...&lt;/button&gt;</code></pre>
      </section>

      <section class="card">
        <h2 class="card-title">Paso 4 — Imágenes e inversión</h2>
        <div class="flex items-center gap-4">
          <img class="h-12 w-12 rounded-md ring-1 ring-black/5 dark:ring-white/10" src="https://picsum.photos/96" alt="" />
          <img class="h-12 w-12 rounded-md ring-1 ring-black/5 dark:ring-white/10 dark:invert" src="https://picsum.photos/96" alt="Invert in dark" />
        </div>
        <p class="mt-2 text-sm text-gray-600 dark:text-gray-300">Usa <code>dark:invert</code> si necesitas invertir iconos monocromos en oscuro.</p>
      </section>

      <section class="card">
        <h2 class="card-title">Cómo probar</h2>
        <ul class="list-disc list-inside text-sm text-gray-700 dark:text-gray-300 space-y-1">
          <li>Activa el Modo Oscuro del sistema operativo.</li>
          <li>En Chrome/Edge/Firefox: DevTools → Rendering/Emulation → Emular <em>prefers-color-scheme</em>.</li>
          <li>Añade <code>transition-colors</code> para un cambio suave de colores.</li>
        </ul>
      </section>

      <section class="card">
        <h2 class="card-title">Notas</h2>
        <ul class="list-disc list-inside text-sm text-gray-700 dark:text-gray-300 space-y-1">
          <li>Por defecto, <code>dark:</code> usa media queries. No requiere JS.</li>
          <li>Usa escalas de color de Tailwind para buen contraste en ambos temas.</li>
          <li>Combina con <code>@theme</code> y tokens (p. ej., <code>--color-brand</code>) para colores de marca.</li>
        </ul>
      </section>
    </main>
    <script>
      // Alternar tema y persistir preferencia
      (function () {
        var btn = document.getElementById('toggle-theme');
        if (!btn) return;
        btn.addEventListener('click', function () {
          var root = document.documentElement;
          var goingDark = !root.classList.contains('dark');
          root.classList.toggle('dark', goingDark);
          try { localStorage.setItem('theme', goingDark ? 'dark' : 'light'); } catch (e) {}
        });
      })();
    </script>
    <script>
      const menuBtn = document.getElementById('menu-btn');
      const menu = document.getElementById('menu');

      if (menuBtn) {
        menuBtn.addEventListener('click', () => {
          menu.classList.toggle('hidden');
        });
      }

      // Active link styling
      const currentPath = window.location.pathname;
      const navLinks = document.querySelectorAll('nav a');

      navLinks.forEach(link => {
        if (link.getAttribute('href') === currentPath) {
          link.classList.add('font-bold', 'text-brand');
        }
      });
    </script>
  </body>
  </html>
